<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <canvas id="CandlestickChart" width="900" height="600"></canvas>
    <script src="./CandlestickChart.js"></script>
    <script>
      const data = [
        [
          1624838400000,
          "29082.09000000",
          "29581.89000000",
          "28434.26000000",
          "28923.41000000",
          "4149.15025300",
          1624924799999,
          "120019716.69646661",
          162645,
          "2131.43957600",
          "61660835.13082996",
          "0",
        ],
        [
          1624924800000,
          "28935.67000000",
          "30782.79000000",
          "28715.78000000",
          "30169.50000000",
          "4579.19844200",
          1625011199999,
          "137113829.36826202",
          184863,
          "2401.19382300",
          "71905722.94634523",
          "0",
        ],
        [
          1625011200000,
          "30172.69000000",
          "30319.23000000",
          "28727.27000000",
          "29556.50000000",
          "4046.24930000",
          1625097599999,
          "118647533.14816768",
          159808,
          "2034.55809100",
          "59665799.47086813",
          "0",
        ],
        [
          1625097600000,
          "29556.50000000",
          "29565.39000000",
          "27641.26000000",
          "28292.54000000",
          "4234.10620500",
          1625183999999,
          "119872036.96015166",
          163180,
          "2153.16403000",
          "60949853.84758462",
          "0",
        ],
        [
          1625184000000,
          "28295.17000000",
          "28694.27000000",
          "27631.57000000",
          "28484.38000000",
          "3249.55742000",
          1625270399999,
          "91366055.30167597",
          141762,
          "1676.42864000",
          "47147562.16339237",
          "0",
        ],
        [
          1625270400000,
          "28482.22000000",
          "29474.23000000",
          "28090.36000000",
          "29201.46000000",
          "2020.33152900",
          1625356799999,
          "58595205.28781706",
          95078,
          "1038.02630600",
          "30107200.10595823",
          "0",
        ],
        [
          1625356800000,
          "29195.79000000",
          "30287.06000000",
          "28932.38000000",
          "29722.92000000",
          "2037.32718200",
          1625443199999,
          "60686662.51211640",
          90335,
          "1067.00543900",
          "31784465.53638051",
          "0",
        ],
        [
          1625443200000,
          "29722.66000000",
          "29722.66000000",
          "27952.06000000",
          "28414.28000000",
          "3275.80558000",
          1625529599999,
          "94009033.79908622",
          99843,
          "1621.29002600",
          "46515968.77722363",
          "0",
        ],
        [
          1625529600000,
          "28419.53000000",
          "29646.04000000",
          "28377.29000000",
          "28950.14000000",
          "2776.95899400",
          1625615999999,
          "80251217.45407344",
          90854,
          "1423.66820000",
          "41165965.00982296",
          "0",
        ],
        [
          1625616000000,
          "28950.93000000",
          "29659.80000000",
          "28688.51000000",
          "28751.47000000",
          "2201.01922900",
          1625702399999,
          "64420782.98167618",
          85153,
          "1083.72138900",
          "31740635.53540068",
          "0",
        ],
        [
          1625702400000,
          "28747.67000000",
          "28806.76000000",
          "27134.03000000",
          "27773.14000000",
          "3352.23636200",
          1625788799999,
          "93226018.16136415",
          105657,
          "1680.62577100",
          "46742795.86959674",
          "0",
        ],
        [
          1625788800000,
          "27773.13000000",
          "28728.29000000",
          "27272.60000000",
          "28503.37000000",
          "1841.25038400",
          1625875199999,
          "51519373.31350377",
          67691,
          "929.35882200",
          "26010528.81966984",
          "0",
        ],
        [
          1625875200000,
          "28505.47000000",
          "28873.33000000",
          "27867.37000000",
          "28268.54000000",
          "1451.67512100",
          1625961599999,
          "41217016.90764127",
          56634,
          "722.87327700",
          "20524696.06296149",
          "0",
        ],
        [
          1625961600000,
          "28266.12000000",
          "29146.51000000",
          "28112.55000000",
          "28857.07000000",
          "1339.78657300",
          1626047999999,
          "38324541.76734254",
          56310,
          "671.83981300",
          "19235213.63929419",
          "0",
        ],
        [
          1626048000000,
          "28862.65000000",
          "29219.34000000",
          "27584.26000000",
          "27945.58000000",
          "2052.26240500",
          1626134399999,
          "58152594.43664721",
          98948,
          "996.08090400",
          "28232538.50050872",
          "0",
        ],
        [
          1626134400000,
          "27941.83000000",
          "28207.58000000",
          "27398.02000000",
          "27988.95000000",
          "2082.01085100",
          1626220799999,
          "57872574.40713692",
          96273,
          "1002.47148600",
          "27869709.98871549",
          "0",
        ],
        [
          1626220800000,
          "27983.21000000",
          "28358.99000000",
          "27083.00000000",
          "28172.11000000",
          "2302.33577400",
          1626307199999,
          "63969546.54065197",
          109192,
          "1140.30273700",
          "31686413.76465757",
          "0",
        ],
        [
          1626307200000,
          "28171.96000000",
          "28482.91000000",
          "26814.54000000",
          "27347.44000000",
          "2524.12896100",
          1626393599999,
          "69228491.55341625",
          118836,
          "1177.90635500",
          "32298705.86692528",
          "0",
        ],
        [
          1626393600000,
          "27347.48000000",
          "27476.74000000",
          "26539.64000000",
          "26700.19000000",
          "2625.22601200",
          1626479999999,
          "70905027.82065819",
          110704,
          "1420.86659200",
          "38373328.49748894",
          "0",
        ],
        [
          1626480000000,
          "26699.29000000",
          "27347.24000000",
          "26517.80000000",
          "26954.11000000",
          "1331.62577000",
          1626566399999,
          "35923659.69456205",
          80046,
          "683.62588700",
          "18444065.56155621",
          "0",
        ],
        [
          1626566400000,
          "26954.10000000",
          "27678.55000000",
          "26696.00000000",
          "27191.82000000",
          "1375.17684900",
          1626652799999,
          "37344842.42867033",
          67705,
          "675.58653800",
          "18353455.40512863",
          "0",
        ],
        [
          1626652800000,
          "27191.82000000",
          "27334.49000000",
          "26005.17000000",
          "26440.52000000",
          "2133.78672300",
          1626739199999,
          "56700950.24132241",
          82561,
          "1102.16279000",
          "29314423.75802124",
          "0",
        ],
        [
          1626739200000,
          "26444.28000000",
          "26628.20000000",
          "25165.23000000",
          "25646.44000000",
          "3245.27880600",
          1626825599999,
          "83194651.94186388",
          109650,
          "1450.80919100",
          "37199648.68940671",
          "0",
        ],
        [
          1626825600000,
          "25652.34000000",
          "28095.14000000",
          "25410.46000000",
          "27590.42000000",
          "3319.20411400",
          1626911999999,
          "89838504.75253591",
          115726,
          "1648.54856800",
          "44606646.35734976",
          "0",
        ],
        [
          1626912000000,
          "27596.94000000",
          "27875.94000000",
          "27217.89000000",
          "27724.92000000",
          "1642.78140000",
          1626998399999,
          "45276956.03099085",
          74925,
          "755.48267400",
          "20824837.22938448",
          "0",
        ],
        [
          1626998400000,
          "27724.92000000",
          "28837.53000000",
          "27470.00000000",
          "28837.53000000",
          "1683.75257400",
          1627084799999,
          "47138306.39790681",
          76768,
          "835.04700300",
          "23393096.68208913",
          "0",
        ],
        [
          1627084800000,
          "28837.53000000",
          "29628.70000000",
          "28605.75000000",
          "29386.13000000",
          "1817.49069800",
          1627171199999,
          "52838854.72600940",
          79244,
          "874.28429000",
          "25422664.25106012",
          "0",
        ],
        [
          1627171200000,
          "29387.87000000",
          "30300.00000000",
          "29059.35000000",
          "30293.35000000",
          "1900.17891800",
          1627257599999,
          "56119258.31939024",
          80882,
          "934.03418800",
          "27595662.82593325",
          "0",
        ],
        [
          1627257600000,
          "30292.48000000",
          "34491.12000000",
          "30140.50000000",
          "31686.90000000",
          "7561.06581300",
          1627343999999,
          "246963754.87552543",
          286096,
          "3775.73580900",
          "123329222.28632159",
          "0",
        ],
        [
          1627344000000,
          "31690.18000000",
          "33733.00000000",
          "30988.54000000",
          "33678.96000000",
          "4584.19444600",
          1627430399999,
          "147934778.52404151",
          184911,
          "2273.67313400",
          "73384699.15347462",
          "0",
        ],
        [
          1627430400000,
          "33674.94000000",
          "34857.42000000",
          "33206.56000000",
          "34153.08000000",
          "5005.03695900",
          1627516799999,
          "170356219.58978065",
          207325,
          "2522.66218400",
          "85879012.70908282",
          "0",
        ],
        [
          1627516800000,
          "34151.37000000",
          "34612.69000000",
          "33520.00000000",
          "33996.25000000",
          "2921.17365700",
          1627603199999,
          "99235073.15621370",
          140212,
          "1436.17161700",
          "48793910.22626653",
          "0",
        ],
        [
          1627603200000,
          "33996.26000000",
          "35798.12000000",
          "32569.55000000",
          "35710.60000000",
          "3431.19070000",
          1627689599999,
          "116360996.80409220",
          160219,
          "1741.34747300",
          "59155839.35983416",
          "0",
        ],
        [
          1627689600000,
          "35710.60000000",
          "35870.00000000",
          "34807.98000000",
          "35264.66000000",
          "2328.54095000",
          1627775999999,
          "82215877.68623736",
          115423,
          "1154.49365000",
          "40760858.34566927",
          "0",
        ],
        [
          1627776000000,
          "35257.65000000",
          "36134.00000000",
          "33710.00000000",
          "34030.17000000",
          "2850.78574900",
          1627862399999,
          "100074724.41157124",
          140987,
          "1356.45728700",
          "47632966.61039975",
          "0",
        ],
        [
          1627862400000,
          "34033.95000000",
          "34463.64000000",
          "32980.65000000",
          "33361.78000000",
          "2798.38354600",
          1627948799999,
          "94302933.20231130",
          114184,
          "1332.41628800",
          "44911647.72742458",
          "0",
        ],
        [
          1627948800000,
          "33361.77000000",
          "33881.50000000",
          "32105.00000000",
          "32509.13000000",
          "2937.77582200",
          1628035199999,
          "96101553.67109200",
          116579,
          "1445.21954000",
          "47284872.54970868",
          "0",
        ],
        [
          1628035200000,
          "32509.14000000",
          "34123.73000000",
          "32007.01000000",
          "33925.05000000",
          "2470.27473600",
          1628121599999,
          "81600009.05601885",
          105846,
          "1258.27442000",
          "41581621.75583413",
          "0",
        ],
        [
          1628121600000,
          "33918.77000000",
          "35285.51000000",
          "32040.11000000",
          "34902.23000000",
          "3612.67072200",
          1628207999999,
          "121357048.20238435",
          139277,
          "1855.38409500",
          "62412697.15237994",
          "0",
        ],
        [
          1628208000000,
          "34899.95000000",
          "37182.77000000",
          "34106.00000000",
          "36742.05000000",
          "3784.78206000",
          1628294399999,
          "134787936.04549264",
          147168,
          "1817.51917900",
          "64739877.31556823",
          "0",
        ],
        [
          1628294400000,
          "36747.57000000",
          "38521.23000000",
          "36544.83000000",
          "38415.20000000",
          "3506.54829500",
          1628380799999,
          "131615254.80246507",
          147303,
          "1767.53647400",
          "66362916.51943507",
          "0",
        ],
        [
          1628380800000,
          "38421.79000000",
          "39086.24000000",
          "37261.29000000",
          "37877.86000000",
          "3106.46758700",
          1628467199999,
          "118760696.59566965",
          132579,
          "1517.05687400",
          "58003860.14256994",
          "0",
        ],
        [
          1628467200000,
          "37855.95000000",
          "40106.01000000",
          "36936.00000000",
          "39916.95000000",
          "3286.57283100",
          1628553599999,
          "127540810.09638015",
          143155,
          "1708.16293500",
          "66265699.75205818",
          "0",
        ],
        [
          1628553600000,
          "39900.85000000",
          "40266.88000000",
          "38644.66000000",
          "39398.20000000",
          "2242.83736000",
          1628639999999,
          "88369086.62876636",
          106462,
          "1091.25264400",
          "42982366.09958792",
          "0",
        ],
        [
          1628640000000,
          "39400.65000000",
          "40500.01000000",
          "39200.00000000",
          "39505.43000000",
          "2103.19635500",
          1628726399999,
          "84098896.79290050",
          105731,
          "1080.50552700",
          "43203867.72224653",
          "0",
        ],
        [
          1628726400000,
          "39505.43000000",
          "40041.94000000",
          "37903.64000000",
          "38473.81000000",
          "2350.60698300",
          1628812799999,
          "91508943.27894646",
          100834,
          "1165.88672900",
          "45402534.36480831",
          "0",
        ],
        [
          1628812800000,
          "38472.82000000",
          "41130.45000000",
          "38329.59000000",
          "40942.36000000",
          "1784.49886800",
          1628899199999,
          "71471937.25017333",
          84419,
          "896.41368800",
          "35887543.29437894",
          "0",
        ],
        [
          1628899200000,
          "40952.21000000",
          "41339.99000000",
          "39650.00000000",
          "40391.36000000",
          "1734.22831300",
          1628985599999,
          "70037660.32071701",
          82523,
          "856.84013900",
          "34617259.24254242",
          "0",
        ],
        [
          1628985600000,
          "40395.25000000",
          "40576.00000000",
          "39152.45000000",
          "40260.03000000",
          "1650.76338700",
          1629071999999,
          "65711408.58513117",
          78170,
          "790.59359600",
          "31451400.50799586",
          "0",
        ],
        [
          1629072000000,
          "40263.24000000",
          "41100.00000000",
          "40091.68000000",
          "40515.89000000",
          "508.05049400",
          1629158399999,
          "20670358.86140116",
          22169,
          "258.03803700",
          "10502302.03927308",
          "0",
        ],
      ]
      candlestickChart = new CandlestickChart("CandlestickChart")
      for (var i = 0; i < data.length; ++i) {
        candlestickChart.addCandlestick(
          new Candlestick(
            data[i][0],
            data[i][1],
            data[i][4],
            data[i][2],
            data[i][3]
          )
        )
      }
      candlestickChart.draw()
      
      
      function getData() {
        var xmlhttp = new XMLHttpRequest()
        xmlhttp.open(
          "GET",
          "https://api.binance.com/api/v3/klines?symbol=BTCEUR&interval=1d&limit=50"
        )
        xmlhttp.onreadystatechange = function () {
          if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            var json = JSON.parse(xmlhttp.responseText)
            candlestickChart = new CandlestickChart("CandlestickChart")
            for (var i = 0; i < json.length; ++i) {
              candlestickChart.addCandlestick(
                new Candlestick(
                  json[i][0],
                  json[i][1],
                  json[i][4],
                  json[i][2],
                  json[i][3]
                )
              )
            }
            candlestickChart.draw()
          }
        }
        xmlhttp.setRequestHeader(
          "Content-Type",
          "application/x-www-form-urlencoded"
        )
        xmlhttp.send()
      }
      getData()
    </script>
  </body>
</html>
